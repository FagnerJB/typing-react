{"version":3,"sources":["contexts/typing.tsx","utils/randomVars.ts","components/Wave/Words/Word/index.tsx","utils/words.ts","components/Wave/Words/index.tsx","components/Wave/index.tsx","components/Score/index.tsx","App.tsx","index.tsx"],"names":["TypingContext","createContext","TypingProvider","children","useState","wave","setWave","letter","setLetter","Provider","value","randomBetween","min","max","Math","random","Word","props","word","removeWord","useContext","initial","leftN","opp","left","length","animDuration","animDelay","createInitial","ratio","cursor","setCursor","killed","setKilled","style","animationDuration","animationDelay","useEffect","missed","setTimeout","clearTimeout","charAt","c","className","substr","shuffle","require","source","easy","words","filter","w","fair","hard","epic","boss","Words","setWords","easy_t","splice","fair_t","hard_t","epic_t","boss_t","all_t","concat","map","key","Wave","difficulties","handleKeydown","e","preventDefault","test","toLowerCase","handleKeyup","document","addEventListener","removeEventListener","Score","href","target","rel","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b468d6f4.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react'\n\ninterface ITypingContext {\n    letter: string\n    wave: number\n    setLetter: (letter: string) => void\n    setWave: (wave: number) => void\n}\n\nconst TypingContext = createContext<ITypingContext>({} as ITypingContext)\n\nexport const TypingProvider: React.FC = ({ children }) => {\n\n    const [wave, setWave] = useState(-1)\n    const [letter, setLetter] = useState(\"\")\n\n    return (\n        <TypingContext.Provider value={{ letter, wave, setLetter, setWave }}>\n            {children}\n        </TypingContext.Provider>\n    )\n\n}\n\nexport default TypingContext\n","function randomBetween(min: number, max: number) {\n    return (Math.random() * max) + min\n}\n\nexport function createInitial(word: string) {\n    const leftN = randomBetween(5, 95)\n    const opp = leftN < 50 ? \"+\" : `-`\n    const left = `calc( ${leftN}% ${opp} ( ${word.length} * ${11.53}px ) )`\n\n    switch (true) {\n        case word.length <= 4:\n            return {\n                left,\n                animDuration: randomBetween(10, 13),\n                animDelay: randomBetween(0, 1)\n            }\n        case word.length >= 5 && word.length <= 6:\n            return {\n                left,\n                animDuration: randomBetween(15, 22),\n                animDelay: randomBetween(1, 2)\n            }\n        case word.length >= 7 && word.length <= 8:\n            return {\n                left,\n                animDuration: randomBetween(20, 25),\n                animDelay: randomBetween(2, 3)\n            }\n        case word.length >= 9 && word.length <= 11:\n            return {\n                left,\n                animDuration: randomBetween(24, 33),\n                animDelay: randomBetween(4, 6)\n            }\n        case word.length >= 12:\n            return {\n                left,\n                animDuration: randomBetween(26, 36),\n                animDelay: randomBetween(6, 7)\n            }\n        default:\n            return {\n                left,\n                animDuration: 20,\n                animDelay: 1\n            }\n    }\n}\n","import React, { useState, useContext, useEffect } from 'react'\n\nimport TypingContext from '../../../../contexts/typing'\nimport { createInitial } from '../../../../utils/randomVars'\n\ninterface IWordProps {\n    word: string\n    removeWord: (w: string) => void\n}\n\nconst Word: React.FC<IWordProps> = (props) => {\n\n    const { word, removeWord } = props\n\n    const { letter, wave, setWave } = useContext(TypingContext)\n\n    const initial = createInitial(word)\n    const ratio = wave === 11 ? 1.35 : 1;\n\n    const [left] = useState(initial.left)\n    const [animDuration] = useState(initial.animDuration * ratio + \"s\")\n    const [animDelay] = useState(initial.animDelay + \"s\")\n    const [cursor, setCursor] = useState(0)\n    const [killed, setKilled] = useState(false)\n\n    const style = {\n        left: left,\n        animationDuration: animDuration,\n        animationDelay: animDelay\n    }\n\n    useEffect(() => {\n\n        const missed = setTimeout(() => {\n            setWave(-2)\n        }, (initial.animDuration * ratio + initial.animDelay) * 1000)\n\n        if (killed)\n            clearTimeout(missed)\n\n        return () => clearTimeout(missed)\n\n    }, [killed])\n\n    useEffect(() => {\n\n        if (letter === word.charAt(cursor))\n            setCursor(c => c + 1)\n\n    }, [letter])\n\n    useEffect(() => {\n\n        if (cursor === word.length) {\n            removeWord(word)\n            setKilled(true)\n        }\n\n    }, [cursor])\n\n    return (\n        <div className={killed ? \"word word-killed\" : \"word\"} style={style}>\n            <span className=\"word-already\">{word.substr(0, cursor)}</span>\n            <span className=\"word-current\">{word.charAt(cursor)}</span>\n            <span className=\"word-ongoing\">{word.substr(cursor + 1)}</span>\n        </div>\n    )\n}\n\nexport default Word\n","import { words } from './words.json'\n\nconst shuffle = require('shuffle-array')\n\nconst source = {\n    easy: shuffle(words.filter((w) => w.length <= 4)),\n    fair: shuffle(words.filter((w) => w.length >= 5 && w.length <= 6)),\n    hard: shuffle(words.filter((w) => w.length >= 7 && w.length <= 8)),\n    epic: shuffle(words.filter((w) => w.length >= 9 && w.length <= 11)),\n    boss: shuffle(words.filter((w) => w.length >= 12))\n}\n\nexport default source\n","import React, { useEffect, useState, useContext } from 'react'\n\nimport Word from './Word'\n\nimport TypingContext from '../../../contexts/typing'\nimport source from '../../../utils/words'\n\ninterface IWordsProps {\n    easy: number\n    fair: number\n    hard: number\n    epic: number\n    boss: number\n}\n\nconst Words: React.FC<IWordsProps> = (props) => {\n\n    const { easy, fair, hard, epic, boss } = props\n\n    const { wave, setWave } = useContext(TypingContext)\n\n    const [words, setWords] = useState([\"empty\"] as string[])\n\n    useEffect(() => {\n\n        if (wave >= 0) {\n\n            const easy_t = source.easy.splice(0, easy)\n            const fair_t = source.fair.splice(0, fair)\n            const hard_t = source.hard.splice(0, hard)\n            const epic_t = source.epic.splice(0, epic)\n            const boss_t = source.boss.splice(0, boss)\n            const all_t = easy_t.concat(fair_t, hard_t, epic_t, boss_t)\n\n            setWords(all_t)\n\n        }\n\n    }, [wave])\n\n    useEffect(() => {\n\n        if (words.length === 0)\n            setWave(wave + 1)\n\n    }, [words])\n\n    const removeWord = (word: string) => {\n\n        setTimeout(() => {\n            setWords(words.filter((w: string) => w !== word))\n        }, 112)\n\n    }\n\n    return <>\n        {words.length > 0 && words.map(\n            (w: string) => <Word key={`word-${w}`} word={w} removeWord={removeWord} />\n        )}\n    </>\n\n}\n\nexport default Words\n","import React, { useContext, useEffect } from 'react'\n\nimport TypingContext from '../../contexts/typing'\n\nimport Words from './Words'\n\nfunction Wave() {\n\n    const { wave, setLetter, setWave } = useContext(TypingContext)\n\n    const difficulties = [{\n        easy: 4, fair: 1\n    }, {\n        easy: 4, fair: 2, hard: 1\n    }, {\n        easy: 5, fair: 3, hard: 2\n    }, {\n        easy: 6, fair: 3, hard: 2, epic: 1\n    }, {\n        easy: 5, fair: 4, hard: 3, epic: 2\n    }, {\n        easy: 4, fair: 5, hard: 4, epic: 2, boss: 1\n    }, {\n        easy: 3, fair: 5, hard: 5, epic: 3, boss: 1\n    }, {\n        easy: 2, fair: 6, hard: 5, epic: 3, boss: 1\n    }, {\n        easy: 2, fair: 6, hard: 5, epic: 4, boss: 2\n    }, {\n        easy: 1, fair: 5, hard: 6, epic: 5, boss: 2\n    }, {\n        easy: 1, fair: 5, hard: 6, epic: 5, boss: 3\n    }, {\n        easy: 1, fair: 5, hard: 17, epic: 23\n    }]\n\n    useEffect(() => {\n\n        function handleKeydown(e: KeyboardEvent) {\n            if (\"Enter\" === e.key && wave === -1) {\n                e.preventDefault()\n                setWave(0)\n            }\n            if (/^[a-zA-Z]$/.test(e.key) && wave >= 0) {\n                e.preventDefault()\n                const letter = e.key.toLowerCase()\n                setLetter(letter)\n            }\n        }\n\n        function handleKeyup(e: KeyboardEvent) {\n            if (/^[a-zA-Z]$/.test(e.key) && wave >= 0) {\n                setLetter(\"\")\n            }\n        }\n\n        document.addEventListener(\"keydown\", handleKeydown)\n        document.addEventListener(\"keyup\", handleKeyup)\n\n        return () => {\n\n            document.removeEventListener(\"keydown\", handleKeydown)\n            document.removeEventListener(\"keyup\", handleKeyup)\n\n        }\n\n    }, [wave])\n\n    if (wave === -2)\n        return (\n            <div className=\"start lost\">\n                You lost<br />Press <span className=\"start__key\">F5</span> to try again\n            </div>\n        )\n    else if (wave === -1)\n        return (\n            <div className=\"start\">\n                Press\n                <span className=\"start__key\">Enter</span>\n                to start\n            </div>\n        )\n    else if (wave === 12)\n        return (\n            <div className=\"start won\">\n                You won<br />Press <span className=\"start__key\">F5</span> to try again\n            </div>\n        )\n    else\n        return (\n            <div className=\"monitor\">\n                <Words\n                    easy={difficulties[wave].easy}\n                    fair={difficulties[wave].fair}\n                    hard={difficulties[wave].hard ?? 0}\n                    epic={difficulties[wave].epic ?? 0}\n                    boss={difficulties[wave].boss ?? 0}\n                />\n            </div>\n        )\n}\n\nexport default Wave\n","import React, { useContext } from 'react'\n\nimport TypingContext from '../../contexts/typing'\n\nfunction Score() {\n\n    const { wave } = useContext(TypingContext)\n\n    return (\n        <div className=\"score\">\n            <ul className=\"score-list\">\n                {wave >= 0 &&\n                    <li className=\"score-list__item\">\n                        <span className=\"score-list__item__head\">Wave</span>\n                        <span className=\"score-list__item__number\">{wave}</span>\n                    </li>\n                }\n                <li className=\"score-list__item\">\n                    <span className=\"score-list__item__head\">Prototype by</span>\n                    <span className=\"score-list__item__number\"><a href=\"https://github.com/FagnerJB/typing-react/\" target=\"_blank\" rel=\"norefferer nofollow\">Fagner JB.</a></span>\n                </li>\n            </ul>\n        </div>\n    )\n}\n\nexport default Score\n","import React from 'react'\n\nimport { TypingProvider } from './contexts/typing'\n\nimport Wave from \"./components/Wave\"\nimport Score from \"./components/Score\"\n\nimport './assets/global.css'\n\nfunction App() {\n    return (\n        <TypingProvider>\n            <div className=\"container\">\n                <Wave />\n                <Score />\n            </div>\n        </TypingProvider>\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}